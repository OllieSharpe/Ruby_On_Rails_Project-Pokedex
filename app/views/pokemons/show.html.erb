
<p id="notice"><%= notice %></p>

<p>
  <img id="picture" src="<%=@pokemon.sprite%>" alt="<%=@pokemon.name%>" height="200" width="200">
</p>

<p class="basic-font">
  <strong>Name:</strong>
  <%= @pokemon.name.capitalize %>
</p>

<p class="basic-font">
  <strong>Main Type:</strong>
  <%= @pokemon.type1.capitalize %>
</p>

<p class="basic-font">
  <strong>Secondary Type:</strong>
  <% if (@pokemon.type2) %>
    <%= @pokemon.type2.capitalize %>
  <% else %>
    <%= @pokemon.type2 %>
  <% end %>
</p>

<div class="outer-box">
  <div class="stat-names">
    <div class="wrap">
      <strong class="basic-font">Hp:</strong>
      <p id="hp" class="basic-font"><%= @pokemon.hp %></p>
    </div>
  </div>
  <div class="bar-box">
    <div class="bar" id="red-bar">
    </div>
  </div>
</div>

<div class="outer-box">
  <div class="stat-names">
    <div class="wrap">
      <strong class="basic-font">Attack:</strong>
      <p id="attack" class="basic-font"><%= @pokemon.attack %></p>
    </div>
  </div>
  <div class="bar-box">
    <div class="bar" id="orange-bar">
    </div>
  </div>
</div>

<div class="outer-box">
  <div class="stat-names">
    <div class="wrap">
      <strong class="basic-font">Defense:</strong>
      <p id="defense" class="basic-font"><%= @pokemon.defense %></p>
    </div>
  </div>
  <div class="bar-box">
    <div class="bar" id ="yellow-bar">
    </div>
  </div>
</div>

<div class="outer-box">
  <div class="stat-names">
    <div class="wrap">
      <strong class="basic-font">Sp.Attack:</strong>
      <p id="sp-attack" class="basic-font"><%= @pokemon.sp_attack %></p>
    </div>
  </div>
  <div class="bar-box">
    <div class="bar" id="blue-bar">
    </div>
  </div>
</div>

<div class="outer-box">
  <div class="stat-names">
    <div class="wrap">
      <strong class="basic-font">Sp.Defense:</strong>
      <p id="sp-defense" class="basic-font"><%= @pokemon.sp_defense %></p>
    </div>
  </div>
  <div class="bar-box">
    <div class="bar" id="green-bar">
    </div>
  </div>
</div>

<div class="outer-box">
  <div class="stat-names">
    <div class="wrap">
      <strong class="basic-font">Speed:</strong>
      <p id="speed" class="basic-font"><%= @pokemon.speed %></p>
    </div>
  </div>
  <div class="bar-box">
    <div class="bar" id="pink-bar">
    </div>
  </div>
</div>

<p class="basic-font">
  <strong>Native region:</strong>
  <%= @pokemon.generation.region %>
</p>

<p class="basic-font">
  <strong>Evolution line</strong>
</p>

<div class="evolution-box">
  <% for i in 0..(@pokemon_array.length - 1) do %>
    <% if (@pokemon_array[i].length > 1) %>
    <div class="split-entries">
      <% for j in 0..(@pokemon_array[i].length - 1) do %>
        <div class="group-method-sprite basic-font">
          <%=@pokemon_array[i][j].evolution_method%><a href="/pokemons/<%=@pokemon_array[i][j].id%>"><img src="<%=@pokemon_array[i][j].sprite%>" alt="<%=@pokemon_array[i][j].name %>"></a>
        </div>
      <% end %>
    </div>
    <% else %>
    <div class="regular-entries">
      <p class="basic-font"><%=@pokemon_array[i][0].evolution_method%></p><a href="/pokemons/<%=@pokemon_array[i][0].id%>"><img src="<%=@pokemon_array[i][0].sprite%>" alt="<%=@pokemon_array[i][0].name %>"></a>
    </div>
    <% end %>
  <% end %>
</div>

<p class="link show">
  <% if (current_user && current_user.admin) %>
    <%= link_to 'Edit', edit_pokemon_path(@pokemon)%> |
  <% end %>

  <a href="/generations/<%=@pokemon.generation_id%>">Back</a> |

  <a href="/">Home</a>
</p>

<script type="text/javascript">
  function red() {
    var value = document.getElementById("hp");
    var number = parseInt(value.innerHTML)
    var pixels = ((number/200)*550).toString();
    var string = pixels + "px";
    document.getElementById("red-bar").style.width = string;
  };
  function orange() {
    var value = document.getElementById("attack");
    var number = parseInt(value.innerHTML)
    var pixels = ((number/200)*550).toString();
    var string = pixels + "px";
    document.getElementById("orange-bar").style.width = string;
  };
  function yellow() {
    var value = document.getElementById("defense");
    var number = parseInt(value.innerHTML)
    var pixels = ((number/200)*550).toString();
    var string = pixels + "px";
    document.getElementById("yellow-bar").style.width = string;
  };
  function blue() {
    var value = document.getElementById("sp-attack");
    var number = parseInt(value.innerHTML)
    var pixels = ((number/200)*550).toString();
    var string = pixels + "px";
    document.getElementById("blue-bar").style.width = string;
  };
  function green() {
    var value = document.getElementById("sp-defense");
    var number = parseInt(value.innerHTML)
    var pixels = ((number/200)*550).toString();
    var string = pixels + "px";
    document.getElementById("green-bar").style.width = string;
  };
  function pink() {
    var value = document.getElementById("speed");
    var number = parseInt(value.innerHTML)
    var pixels = ((number/200)*550).toString();
    var string = pixels + "px";
    document.getElementById("pink-bar").style.width = string;
  };
  red();
  orange();
  yellow();
  blue();
  green();
  pink();

  document.getElementById("picture").addEventListener('click', function() {
    if (document.getElementById("picture").src == "<%=@pokemon.sprite%>") {
      document.getElementById("picture").src = "<%=@pokemon.sprite_shiny%>";
    }
    else {
      document.getElementById("picture").src = "<%=@pokemon.sprite%>"
    };
  });

</script>
